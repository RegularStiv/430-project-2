(()=>{var e={603:e=>{const t=e=>{document.getElementById("errorMessage").textContent=e};e.exports={handleError:t,sendPost:async(e,n,o)=>{const s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),a=await s.json();a.redirect&&(window.location=a.redirect),a.error&&t(a.error),o&&o(a)}}}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}(()=>{const e=io();let t;const o=n(603),s=async e=>{e.preventDefault();const t=await fetch("/getToken"),n=await t.json(),s=document.querySelector("#pass").value,a=document.querySelector("#pass2").value,c=n.csrfToken;o.sendPost("/changePass",{pass:s,pass2:a,_csrf:c}),document.querySelector("#content").textContent="Password Chaged"},a=e=>{const t=document.createElement("div");t.innerText=e,document.getElementById("messages").appendChild(t)},c=n=>{console.log(t),t=n,e.on(t,a)},r=()=>{e.emit("matchmaking",{command:"disconnect",id:t}),document.getElementById("messages").innerHTML=""};window.onload=()=>{(()=>{const n=document.getElementById("editForm"),o=document.getElementById("editBox"),s=document.querySelector("#langs");n.addEventListener("submit",(n=>{if(n.preventDefault(),o.value){const n={msg:o.value,lang:s.value,id:t};e.emit("chat message",n),o.value=""}}))})(),e.on("chat message",a),e.on("matchmaking",c),document.querySelector("#newLobby").onclick=r,document.querySelector("#changePass").onclick=s}})()})();